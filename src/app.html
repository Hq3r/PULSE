<!-- Cyberpunk World Network Map -->
<div class="network-container">
    <div class="world-map">
        <!-- Grid Background -->
        <div class="cyber-grid"></div>
        
        <!-- Network Nodes -->
        <div class="network-node node-1"></div>
        <div class="network-node node-2"></div>
        <div class="network-node node-3"></div>
        <div class="network-node node-4"></div>
        <div class="network-node node-5"></div>
        <div class="network-node node-6"></div>
        <div class="network-node node-7"></div>
        <div class="network-node node-8"></div>
        
        <!-- Connection Lines -->
        <div class="connection-line line-1"></div>
        <div class="connection-line line-2"></div>
        <div class="connection-line line-3"></div>
        <div class="connection-line line-4"></div>
        <div class="connection-line line-5"></div>
        <div class="connection-line line-6"></div>
        
        <!-- Data Packets -->
        <div class="data-packet packet-1"></div>
        <div class="data-packet packet-2"></div>
        <div class="data-packet packet-3"></div>
        <div class="data-packet packet-4"></div>
    </div>
</div><!DOCTYPE html>
<html lang="en" class="no-js" data-bs-theme="dark">
<title>Pulse - Ergo Blockchain Chat</title>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  script-src 'self' 'unsafe-inline';
  style-src 'self' 'unsafe-inline';
  img-src 'self' data: https:;
  connect-src 'self' https://api.ergoplatform.com https://ergochats.vercel.app;
  object-src 'none';
  base-uri 'none';
">
<link rel="icon" href="%sveltekit.assets%/favicon.png" />
<link rel="apple-touch-icon" type="image/png" href="%sveltekit.assets%/apple-touch-icon.png" />
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap"
rel="stylesheet"
/>
<link
href="https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100..900;1,100..900&family=Jersey+10&family=Satisfy&display=swap"
rel="stylesheet"
/>
<link
rel="stylesheet"
href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
/>
<!-- SEO -->
<meta
name="description"
content="Pulse - Decentralized P2P messaging on the Ergo blockchain."
/>
<meta
name="keywords"
content="pulse, ergo, blockchain, chat, messaging, p2p, decentralized chat, peer to peer"
/>
<meta name="author" content="Pulse Chat" />
<meta property="og:title" content="Pulse - Ergo Blockchain Chat" />
<meta
property="og:description"
content="Decentralized P2P messaging on the Ergo blockchain."
/>
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Pulse Chat" />
<style>
/* Cyberpunk P2P Network Loading Screen */
.loading-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    gap: 32px;
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%);
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 9999;
    transition: opacity 0.8s ease;
    overflow: hidden;
}

/* Simple Logo Header */
.pulse-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 40px;
    z-index: 10;
}

.pulse-text-logo {
    font-family: 'Manrope', sans-serif;
    font-size: 42px;
    font-weight: 800;
    color: #FF5500;
    text-transform: uppercase;
    letter-spacing: 6px;
    margin: 0;
    text-shadow: 0 0 20px rgba(255, 85, 0, 0.5);
    animation: logoGlow 3s ease-in-out infinite alternate;
}

@keyframes logoGlow {
    0% { text-shadow: 0 0 20px rgba(255, 85, 0, 0.5); }
    100% { text-shadow: 0 0 30px rgba(255, 85, 0, 0.8), 0 0 40px rgba(255, 85, 0, 0.3); }
}

.pulse-subtitle {
    font-family: 'Azeret Mono', monospace;
    font-size: 14px;
    font-weight: 300;
    color: rgba(255, 255, 255, 0.7);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-top: 8px;
}



/* Connection Status */
.connection-status {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    margin-bottom: 40px;
}

.status-indicator {
    display: flex;
    align-items: center;
    gap: 16px;
    font-family: 'Azeret Mono', monospace;
    font-size: 18px;
    font-weight: 500;
    color: #FFFFFF;
    background: rgba(255, 85, 0, 0.15);
    padding: 16px 24px;
    border-radius: 25px;
    border: 2px solid rgba(255, 85, 0, 0.4);
    backdrop-filter: blur(10px);
    box-shadow: 
        0 0 20px rgba(255, 85, 0, 0.3),
        inset 0 0 20px rgba(255, 85, 0, 0.1);
    animation: statusGlow 3s ease-in-out infinite;
}

@keyframes statusGlow {
    0%, 100% { 
        box-shadow: 
            0 0 20px rgba(255, 85, 0, 0.3),
            inset 0 0 20px rgba(255, 85, 0, 0.1);
    }
    50% { 
        box-shadow: 
            0 0 30px rgba(255, 85, 0, 0.5),
            inset 0 0 30px rgba(255, 85, 0, 0.2);
    }
}

.status-pulse {
    width: 12px;
    height: 12px;
    background: #FF5500;
    border-radius: 50%;
    animation: statusPulse 1.5s ease-in-out infinite;
    box-shadow: 0 0 15px rgba(255, 85, 0, 0.8);
}

@keyframes statusPulse {
    0%, 100% {
        opacity: 0.7;
        transform: scale(1);
        box-shadow: 0 0 15px rgba(255, 85, 0, 0.8);
    }
    50% {
        opacity: 1;
        transform: scale(1.4);
        box-shadow: 0 0 25px rgba(255, 85, 0, 1);
    }
}

/* Progress Steps */
.progress-steps {
    display: flex;
    flex-direction: column;
    gap: 16px;
    align-items: center;
    margin-bottom: 40px;
    width: 100%;
    max-width: 500px;
}

.step {
    font-family: 'Azeret Mono', monospace;
    font-size: 16px;
    font-weight: 400;
    color: rgba(255, 255, 255, 0.5);
    opacity: 0;
    animation: stepFadeIn 0.8s ease-in-out forwards;
    transition: all 0.4s ease;
    padding: 12px 20px;
    border-radius: 15px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid transparent;
    backdrop-filter: blur(8px);
    width: 100%;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.step::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 85, 0, 0.2) 50%, 
        transparent 100%);
    transition: left 0.8s ease;
}

.step.active {
    color: #FFFFFF;
    opacity: 1;
    background: rgba(255, 85, 0, 0.15);
    border-color: rgba(255, 85, 0, 0.4);
    box-shadow: 
        0 0 20px rgba(255, 85, 0, 0.3),
        inset 0 0 20px rgba(255, 85, 0, 0.1);
    animation: stepPulse 2s ease-in-out infinite;
}

.step.active::before {
    left: 100%;
}

.step:nth-child(1) { animation-delay: 0s; }
.step:nth-child(2) { animation-delay: 2s; }
.step:nth-child(3) { animation-delay: 4s; }
.step:nth-child(4) { animation-delay: 6s; }

@keyframes stepFadeIn {
    0% { opacity: 0; transform: translateY(20px) scale(0.95); }
    100% { opacity: 0.5; transform: translateY(0) scale(1); }
}

@keyframes stepPulse {
    0%, 100% { 
        transform: scale(1);
        box-shadow: 
            0 0 20px rgba(255, 85, 0, 0.3),
            inset 0 0 20px rgba(255, 85, 0, 0.1);
    }
    50% { 
        transform: scale(1.02);
        box-shadow: 
            0 0 30px rgba(255, 85, 0, 0.5),
            inset 0 0 30px rgba(255, 85, 0, 0.2);
    }
}

/* Loading Progress Bar */
.loading-progress {
    width: 350px;
    height: 4px;
    background-color: rgba(255, 255, 255, 0.1);
    border-radius: 2px;
    overflow: hidden;
    margin-bottom: 20px;
    border: 1px solid rgba(255, 85, 0, 0.2);
}

.loading-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, 
        #FF5500 0%, 
        #FF6B2A 25%, 
        #FF8040 50%, 
        #FF9955 75%, 
        #FFB366 100%);
    background-size: 200% 100%;
    border-radius: 2px;
    animation: progressFlow 3s ease-in-out infinite,
               progressShine 2s linear infinite;
    transform-origin: left;
    box-shadow: 0 0 10px rgba(255, 85, 0, 0.5);
}

@keyframes progressFlow {
    0% { transform: scaleX(0); }
    50% { transform: scaleX(0.7); }
    100% { transform: scaleX(1); }
}

@keyframes progressShine {
    0% { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

/* Responsive Design */
@media (max-width: 768px) {
    .pulse-text-logo {
        font-size: 32px;
        letter-spacing: 4px;
    }
    
    .loading-progress {
        width: 320px;
    }
    
    .pulse-subtitle {
        font-size: 12px;
    }
    
    .status-indicator {
        font-size: 16px;
        padding: 14px 20px;
    }
    
    .step {
        font-size: 14px;
        padding: 10px 16px;
        max-width: 400px;
    }
    
    .progress-steps {
        max-width: 400px;
    }
}

@media (max-width: 480px) {
    .pulse-text-logo {
        font-size: 28px;
        letter-spacing: 2px;
    }
    
    .loading-progress {
        width: 280px;
    }
    
    .pulse-subtitle {
        font-size: 11px;
        letter-spacing: 1px;
    }
    
    .status-indicator {
        font-size: 14px;
        padding: 12px 18px;
    }
    
    .step {
        font-size: 13px;
        padding: 10px 14px;
        max-width: 320px;
    }
    
    .progress-steps {
        max-width: 320px;
        gap: 12px;
    }
    
    .connection-status {
        margin-bottom: 30px;
    }
}
</style>
%sveltekit.head%
</head>
<body data-sveltekit-preload-data="hover">
<!-- Cyberpunk P2P Network Loading Screen -->
<div id="initialLoading" class="loading-container">

<!-- Simple Header -->
<div class="pulse-header">
    <h1 class="pulse-text-logo">PULSE</h1>
    <div class="pulse-subtitle">P2P Decentralized Network</div>
</div>

<!-- Cyberpunk World Network Map -->
<div class="network-container">
    <div class="world-map">
        <!-- Grid Background -->
        <div class="cyber-grid"></div>
        
        <!-- Network Nodes -->
        <div class="network-node node-1"></div>
        <div class="network-node node-2"></div>
        <div class="network-node node-3"></div>
        <div class="network-node node-4"></div>
        <div class="network-node node-5"></div>
        <div class="network-node node-6"></div>
        <div class="network-node node-7"></div>
        <div class="network-node node-8"></div>
        
        <!-- Connection Lines -->
        <div class="connection-line line-1"></div>
        <div class="connection-line line-2"></div>
        <div class="connection-line line-3"></div>
        <div class="connection-line line-4"></div>
        <div class="connection-line line-5"></div>
        <div class="connection-line line-6"></div>
        
        <!-- Data Packets -->
        <div class="data-packet packet-1"></div>
        <div class="data-packet packet-2"></div>
        <div class="data-packet packet-3"></div>
        <div class="data-packet packet-4"></div>
    </div>
</div>

<!-- Connection Status -->
<div class="connection-status">
    <div class="status-indicator">
        <div class="status-pulse"></div>
        <span>Establishing P2P Connection</span>
    </div>
</div>

<!-- Progress Steps -->
<div class="progress-steps">
    <div class="step active">Discovering network peers...</div>
    <div class="step">Establishing secure handshake...</div>
    <div class="step">Syncing blockchain state...</div>
    <div class="step">Network ready to pulse!</div>
</div>

<!-- Progress Bar -->
<div class="loading-progress">
    <div class="loading-progress-bar"></div>
</div>
</div>

<div style="display: contents">%sveltekit.body%</div>

<div class="toast-container position-fixed bottom-0 end-0 p-3">
<div
    id="customToast"
    data-bs-config='{"autohide":false}'
    class="toast"
    role="alert"
    aria-live="assertive"
    aria-atomic="true"
>
    <div id="customToastBody" class="toast-body"></div>
</div>
</div>

<script
type="text/javascript"
src="https://ergexplorer.com/scripts/common/token-icons.js?v=50"
></script>
<script
src="https://code.jquery.com/jquery-3.6.4.min.js"
integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
crossorigin="anonymous"
></script>
<script
src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
crossorigin="anonymous"
></script>
<script>
var jQuery = jQuery.noConflict(true);

// Enhanced loading sequence with cyberpunk network effect
window.addEventListener('load', function() {
    // Progressive step activation
    const steps = document.querySelectorAll('.step');
    
    steps.forEach((step, index) => {
        setTimeout(() => {
            // Remove active from previous steps
            steps.forEach(s => s.classList.remove('active'));
            // Add active to current step
            step.classList.add('active');
        }, index * 2000);
    });
    
    // Final fadeout
    setTimeout(function() {
        const loadingScreen = document.getElementById('initialLoading');
        if (loadingScreen) {
            loadingScreen.style.opacity = '0';
            loadingScreen.style.transform = 'scale(0.98)';
            setTimeout(function() {
                loadingScreen.style.display = 'none';
            }, 800);
        }
    }, 8000); // Show all steps then fade out
});
</script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag() {
    dataLayer.push(arguments);
}
gtag('js', new Date());
gtag('config', 'G-EHGMB2Z39F');
</script>
</body>
</html>